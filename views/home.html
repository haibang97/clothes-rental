<!DOCTYPE HTML>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Stylease - an outfit rental platform</title>
	<meta name="Description" CONTENT="Stylease is a clothes rental platform based in Singapore.">
	<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">

	<!-- jQuery -->
	<script src="js/jquery-2.0.0.min.js" type="text/javascript">
	</script>

	<!-- Bootstrap -->
	<script src="js/bootstrap.bundle.min.js" type="text/javascript">
	</script>
	<link href="css/bootstrap.css?v=1.0" rel="stylesheet" type="text/css" />

	<!-- Styles -->
	<link href="css/styles.css" rel="stylesheet" type="text/css" />
	<link href="showYtVideo.css" rel="stylesheet">

	<!-- Font Awesome -->
	<link href="fonts/fontawesome/css/fontawesome-all.min.css" type="text/css" rel="stylesheet">

	<!-- Facebook -->
	<script src="js/facebook.js"></script>
	<script src="js/jquery.showYtVideo.js"></script>

</head>

<body onload="initFB()">

	<!-- HEADER START -->
	<header class="section-header">
		<section class="header-main">
			<div class="container">
				<div class="row align-items-center">

					<!-- LOGO START -->
					<div class="col-lg-3">
						<div class="brand-wrap">
							<a href="home"><img class="logo" src="images/logo.png"></a>
						</div>
					</div>
					<!-- LOGO END -->

					<!-- SEARCH BAR START -->
					<div class="col-lg-6 col-sm-6">
						<form action="#" class="search-wrap">
							<div class="input-group">
								<input type="text" class="form-control" placeholder="I am looking for...">
								<div class="input-group-append">
									<button class="btn btn-primary" type="submit">
										<i class="fa fa-search"></i>
									</button>
								</div>
							</div>
						</form>
					</div>
					<!-- SEARCH BAR END -->

					<!-- CART / ACCOUNT START -->
					<div class="col-lg-3 col-sm-6">
						<div class="widgets-wrap d-flex justify-content-end">

							<!-- CART START -->
							<div class="widget-header">
								<a href="/orders" class="icontext">
									<div class="icon-wrap icon-xs bg2 text-secondary"><i
											class="fa fa-shopping-cart"></i></div>
									<div class="text-wrap cart-size">

									</div>
								</a>
							</div>
							<!-- CART END -->

							<!-- ACCOUNT START -->
							<div class="widget-header dropdown">
								<a href="#" class="ml-3 icontext" data-toggle="dropdown" data-offset="20,10">
									<div class="icon-wrap icon-xs bg2 text-secondary"><i class="fa fa-user"></i></div>
									<div class="text-wrap">
										<small>Hello.</small>
										<span>Login <i class="fa fa-caret-down"></i></span>
									</div>
								</a>
								<div class="dropdown-menu dropdown-menu-right">
									<form class="px-4 py-3">
										<div class="form-group">
											<label>Email address</label>
											<input type="email" class="form-control" placeholder="email@example.com">
										</div>
										<div class="form-group">
											<label>Password</label>
											<input type="password" class="form-control" placeholder="Password">
										</div>
										<button type="submit" class="btn btn-primary">Sign in</button>
									</form>
									<hr class="dropdown-divider">
									<!-- FACEBOOK LOGIN START -->
									<a class="dropdown-item"><img class="logo"
											src="images/facebooklogin.png" width="80%" onclick="fbLogin()"></a>
									<!-- FACEBOOK LOGIN END -->
									<hr class="dropdown-divider">
									<a class="dropdown-item" href="#">Not yet a member? Sign up.</a>
									<a class="dropdown-item" href="#">Forgot password?</a>
								</div>
							</div>
							<!-- ACCOUNT END -->
						</div>
					</div>
					<!-- CART / ACCOUNT END -->
				</div>
			</div>
		</section>

		<!-- NAV BAR START -->
		<nav class="navbar navbar-expand navbar-dark bg-green">
			<div class="container">

				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_nav">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="main_nav">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link" href="home">HOME</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="presentation">ABOUT US</a>
						</li>
						<li class="nav-item">
							<!-- <a class="nav-link" href="home">SUPPORT</a> -->	
						<button type="button" class="show-modal"><a class="nav-link" href="home">SUPPORT</a></button>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="home">CONTACT US</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<!-- NAV BAR END -->

	</header>
	<!-- HEADER END -->


	<!-- INTRO SECTION START -->
	<section id="intro" class="section-intro bg-img">
		<div class="container">
			<div class="row d-flex" style="min-height:500px;">
				<div class="col-sm-6 d-flex align-items-center-main">
					<header class="intro-wrap text-grey">
						<h2 class="headline">A new style every <br />week awaits you.</h2>
						<p class="subheadline">Rent an unlimited number of outfits from just $49/month.</p>
						<a href="register" class="btn btn-green">Become a member today</a>
					</header>
				</div>
			</div>
		</div>
	</section>
	<!-- INTRO SECTION END -->

	<!-- FILTERS START -->
	<section id="filters" class="section-intro">
		<div class="container">
			<div class="col-sm-8" style="float: none; margin: 0 auto; margin-top:80px;">
				<div align="center">
					<header class="filters-wrap text-grey">
						<h2 class="headline">Discover your style</h2>
						<p class="subheadline">Find the right outfit based on your needs.</p>
					</header>
					<br /><br />
					
					<form class="searchDetails" method="POST">
						<div class="row justify-content-center">
							<h2 class="clothesfilterheadline text-grey">I'm a 
							</h2>
							<div class="gender">
								<div class="dropdown">
									<select class="btn btn-secondary dropdown-toggle" id="gender">
										<option value="" disabled selected hidden>select your gender</option>
										<option value="M">male</option>
										<option value="F">female</option>
									</select>
								</div>
							</div>
							<h2 class="clothesfilterheadline text-grey">looking for an
							</h2>
						</div><br/>
						
						<div class="row justify-content-center">
							<h2 class="clothesfilterheadline text-grey">outfit for 
							</h2>
							<div class="event">
								<div class="dropdown">
									<select class="btn btn-secondary dropdown-toggle" id="event">
										<option value="" disabled selected hidden>select your event</option>
										<option>work wear</option>
										<option>date night</option>
										<option>party</option>
									</select>
								</div>
							</div>
						</div>

						<br /><br />
						<button type="submit" class="btn btn-green">Let us help you</button>
					</form>
					
					<br /><br /><br /><br />

				</div>

			</div>
		</div>
	</section>
	<!-- FILTERS END -->


	<!-- CLOTHES START -->
	<section class=" section-content">
		<div class="container clothes-result"></div>
	</section>
	<!-- CLOTHES END -->

<!-- Load Facebook SDK for JavaScript -->
<div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      xfbml            : true,
      version          : 'v3.2'
    });
  };

  (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<!-- Your customer chat code -->
<div class="fb-customerchat"
  attribution=setup_tool
  page_id="299401447397224"
  theme_color="#81894e"
  greeting_dialog_display="hide">
</div>

	<!-- FOOTER START -->
	<footer class="section-footer bg-green">
		<div class="container">
			<section class="footer-bottom row text-white">
				<div class="col-sm-6">
					<p>Stylease is a clothes rental platform developed by G3-T1 <br>
						(Bang, Huirong, Nicholas, Timothy, Xavier and Zuo Lin) for the IS213 project.
					</p>
				</div>
			</section>
		</div>
	</footer>
	<!-- FOOTER END -->

	<script type="text/javascript">
		var clothesContent = "";
		var items = []
		$(document).ready(function () {

			// Youtube pop up
			$('.youtube').on('click', function () {
                $.showYtVideo({
                    videoId: 'uVdV-lxRPFo'
                });
            });

			// localStorage.removeItem();

			// Display cart size
			var itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : []
			var cart_size = `<small>My Bag</small>
							<span>${itemsArray.length} items</span>`
			$(".cart-size").html(cart_size);

			$('.searchDetails').submit(function (event) {

				event.preventDefault();

				var gender = $('#gender option:selected').val();
				var event = $('#event option:selected').val();

				// var host = 'http://LAPTOP-M5IE8VM3:8081'
				// var host = "http://10.124.1.237:8081"
				var host = "https://liuzuolin1996-eval-test.apigee.net/"
				var service = "clothes"
				var body = "/Clothes/getClothesByGender/"
				var url = host + service + body + gender
				// var url = host + body + gender

				console.log(url)

				$.getJSON(url, function (data) {
					var clothes = data.ClothesClass
					clothes.forEach(function (item) {
						if (item.function == event) {
							items.push(item)
						}
					})
					for (row = 0; row < 3; row++) {
						clothesContent += `<div class="row">`
						for (col = 0; col < 4; col++) {
							var index = 4 * row + col
							clothesContent += `<div class="col-md-3">
																	<figure class="card card-product">
																			<div class="img-wrap"><img src="${items[index].image_link}"></div>
																					<figcaption class="info-wrap text-center">
																							<h5 class="title text-truncate"><a href="/clothes-details?clothesid=${items[index].classid}">
																									${items[index].type}</a>
																							</h5>
																					</figcaption>
																	</figure>
															</div>`
						}
						clothesContent += `</div>`
					}
					clothesContent += `
						<div align="center">
							<a href="#" class="btn btn-green">View more</a>
						</div>
						<br /><br />`
					$(".clothes-result").html(clothesContent);
					clothesContent = "";
				});
			})
		});

	</script>

</body>

</html>